{
  "hash": "b17f7e86a1e7f4f89003dbdee265fb18",
  "result": {
    "engine": "knitr",
    "markdown": "# Applications: Foundations {#sec-foundations-applications}\n\n\n\n\n\n## Recap: Foundations {#sec-foundations-sec-summary}\n\nIn the Foundations of inference chapters, we have provided three different methods for statistical inference.\nWe will continue to build on all three of the methods throughout the text, and by the end, you should have an understanding of the similarities and differences between them.\nMeanwhile, it is important to note that the methods are designed to mimic variability with data, and we know that variability can come from different sources (e.g., random sampling vs. random allocation, see @fig-randsampValloc).\nIn @tbl-foundations-summary, we have summarized some of the ways the inferential procedures feature specific sources of variability.\nWe hope that you refer back to the table often as you dive more deeply into inferential ideas in future chapters.\n\n\n::: {#tbl-foundations-summary .cell tbl-cap='Summary and comparison of randomization, bootstrapping, and mathematical\nmodels as inferential statistical methods.'}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-condensed\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n<tr>\n<th style=\"empty-cells: hide;border-bottom:hidden;\" colspan=\"1\"></th>\n<th style=\"border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; \" colspan=\"3\"><div style=\"border-bottom: 1px solid #ddd; padding-bottom: 5px; \">Answer</div></th>\n</tr>\n  <tr>\n   <th style=\"text-align:left;\"> Question </th>\n   <th style=\"text-align:left;\"> Randomization </th>\n   <th style=\"text-align:left;\"> Bootstrapping </th>\n   <th style=\"text-align:left;\"> Mathematical models </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;width: 15em; \"> What does it do? </td>\n   <td style=\"text-align:left;\"> Shuffles the explanatory variable to mimic the natural variability  found in a randomized experiment </td>\n   <td style=\"text-align:left;\"> Resamples (with replacement) from the observed data to mimic the sampling variability found by collecting data from a population </td>\n   <td style=\"text-align:left;\"> Uses theory (primarily the Central Limit Theorem) to describe the hypothetical variability resulting from either repeated randomized experiments or random samples </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 15em; \"> What is the random process described? </td>\n   <td style=\"text-align:left;\"> Randomized experiment </td>\n   <td style=\"text-align:left;\"> Random sampling from a population </td>\n   <td style=\"text-align:left;\"> Randomized experiment or random sampling </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 15em; \"> What other random processes can be approximated? </td>\n   <td style=\"text-align:left;\"> Can also be used to describe random sampling in an observational model </td>\n   <td style=\"text-align:left;\"> Can also be used to describe random allocation in an experiment </td>\n   <td style=\"text-align:left;\"> Randomized experiment or random sampling </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 15em; \"> What is it best for? </td>\n   <td style=\"text-align:left;\"> Hypothesis testing (can also be used for confidence intervals, but not covered in this text). </td>\n   <td style=\"text-align:left;\"> Confidence intervals (can also be used for bootstrap hypothesis testing for one proportion as well). </td>\n   <td style=\"text-align:left;\"> Quick analyses through, for example, calculating a Z score. </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 15em; \"> What physical object represents the simulation process? </td>\n   <td style=\"text-align:left;\"> Shuffling cards </td>\n   <td style=\"text-align:left;\"> Pulling marbles from a bag with replacement </td>\n   <td style=\"text-align:left;\"> Not applicable </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nYou might have noticed that the word *distribution* is used throughout this part (and will continue to be used in future chapters).\nA distribution always describes variability, but sometimes it is worth reflecting on *what* is varying.\nTypically the distribution either describes how the observations vary or how a statistic varies.\nBut even when describing how a statistic varies, there is a further consideration with respect to the study design, e.g., does the statistic vary from random sample to random sample or does it vary from random allocation to random allocation?\nThe methods presented in this text (and used in science generally) are typically used interchangeably across ideas of random samples or random allocations of the treatment.\nOften, the two different analysis methods will give equivalent conclusions.\nThe most important thing to consider is how to contextualize the conclusion in terms of the problem.\nSee @fig-randsampValloc to confirm that your conclusions are appropriate.\n\nBelow, we synthesize the different types of distributions discussed throughout the text.\nReading through the different definitions and solidifying your understanding will help as you come across these distributions in future chapters and you can always return back here to refresh your understanding of the differences between the various distributions.\n\n::: {.important data-latex=\"\"}\n**Distributions.**\n\n-   A **data distribution** describes the shape, center, and variability of the **observed data**.\n\n    This can also be referred to as the **sample distribution** but we'll avoid that phrase as it sounds too much like sampling distribution, which is different.\n\n-   A **population distribution** describes the shape, center, and variability of the entire **population of data**.\n\n    Except in very rare circumstances of very small, very well-defined populations, this is never observed.\n\n-   A **sampling distribution** describes the shape, center, and variability of all possible values of a **sample statistic** from samples of a given sample size from a given population.\n\n    Since the population is never observed, it's never possible to observe the true sampling distribution either.\n    However, when certain conditions hold, the Central Limit Theorem tells us what the sampling distribution is.\n\n-   A **randomization distribution** describes the shape, center, and variability of all possible values of a **sample statistic** from random allocations of the treatment variable.\n\n    We computationally generate the randomization distribution, though usually, it's not feasible to generate the full distribution of all possible values of the sample statistic, so we instead generate a large number of them.\n    Almost always, by randomly allocating the treatment variable, the randomization distribution describes the null hypothesis, i.e., it is centered at the null hypothesized value of the parameter.\n\n-   A **bootstrap distribution** describes the shape, center, and variability of all possible values of a **sample statistic** from resamples of the observed data.\n\n    We computationally generate the bootstrap distribution, though usually, it's not feasible to generate all possible resamples of the observed data, so we instead generate a large number of them.\n    Since bootstrap distributions are generated by randomly resampling from the observed data, they are centered at the sample statistic.\n    Bootstrap distributions are most often used for estimation, i.e., we base confidence intervals off of them.\n:::\n\n\\clearpage\n\n## Case study: Malaria vaccine {#sec-case-study-malaria-vaccine}\n\nIn this case study, we consider a new malaria vaccine called PfSPZ.\nIn the malaria study, volunteer patients were randomized into one of two experiment groups: 14 patients received an experimental vaccine and 6 patients received a placebo vaccine.\nNineteen weeks later, all 20 patients were exposed to a drug-sensitive strain of the malaria parasite; the motivation of using a drug-sensitive strain here is for ethical considerations, allowing any infections to be treated effectively.\n\n::: {.data data-latex=\"\"}\nThe [`malaria`](http://openintrostat.github.io/openintro/reference/malaria.html) data can be found in the [**openintro**](http://openintrostat.github.io/openintro) R package.\n:::\n\nThe results are summarized in @tbl-malaria-vaccine-20-ex-summary, where 9 of the 14 treatment patients remained free of signs of infection while all of the 6 patients in the control group showed some baseline signs of infection.\n\n\n::: {#tbl-malaria-vaccine-20-ex-summary .cell tbl-cap='Summary results for the malaria vaccine experiment.'}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-condensed\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> treatment </th>\n   <th style=\"text-align:right;\"> infection </th>\n   <th style=\"text-align:right;\"> no infection </th>\n   <th style=\"text-align:right;\"> Total </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> placebo </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> vaccine </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 14 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Total </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n::: {.guidedpractice data-latex=\"\"}\nIs this an observational study or an experiment?\nWhat implications does the study type have on what can be inferred from the results?[^15-foundations-applications-1]\n:::\n\n[^15-foundations-applications-1]: The study is an experiment, as patients were randomly assigned an experiment group.\n    Since this is an experiment, the results can be used to evaluate a causal relationship between the malaria vaccine and whether patients showed signs of an infection.\n\n\\vspace{-5mm}\n\n### Variability within data\n\nIn this study, a smaller proportion of patients who received the vaccine showed signs of an infection (35.7% versus 100%).\nHowever, the sample is very small, and it is unclear whether the difference provides *convincing evidence* that the vaccine is effective.\n\n::: {.workedexample data-latex=\"\"}\nStatisticians and data scientists are sometimes called upon to evaluate the strength of evidence.\nWhen looking at the rates of infection for patients in the two groups in this study, what comes to mind as we try to determine whether the data show convincing evidence of a real difference?\n\n------------------------------------------------------------------------\n\nThe observed infection rates (35.7% for the treatment group versus 100% for the control group) suggest the vaccine may be effective.\nHowever, we cannot be sure if the observed difference represents the vaccine's efficacy or if there is no treatment effect and the observed difference is just from random chance.\nGenerally there is a little bit of fluctuation in sample data, and we wouldn't expect the sample proportions to be *exactly* equal, even if the truth was that the infection rates were independent of getting the vaccine.\nAdditionally, with such small samples, perhaps it's common to observe such large differences when we randomly split a group due to chance alone!\n:::\n\nThis example is a reminder that the observed outcomes in the data sample may not perfectly reflect the true relationships between variables since there is **random noise**.\nWhile the observed difference in rates of infection is large, the sample size for the study is small, making it unclear if this observed difference represents efficacy of the vaccine or whether it is simply due to chance.\nWe label these two competing claims, $H_0$ and $H_A$:\n\n-   $H_0$: **Independence model.** The variables are independent.\n    They have no relationship, and the observed difference between the proportion of patients who developed an infection in the two groups, 64.3%, was due to chance.\n\n-   $H_A$: **Alternative model.** The variables are *not* independent.\n    The difference in infection rates of 64.3% was not due to chance.\n    Here (because an experiment was done), if the difference in infection rate is not due to chance, it was the vaccine that affected the rate of infection.\n\nWhat would it mean if the independence model, which says the vaccine had no influence on the rate of infection, is true?\nIt would mean 11 patients were going to develop an infection *no matter which group they were randomized into*, and 9 patients would not develop an infection *no matter which group they were randomized into*.\nThat is, if the vaccine did not affect the rate of infection, the difference in the infection rates was due to chance alone in how the patients were randomized.\n\nNow consider the alternative model: infection rates were influenced by whether a patient received the vaccine or not.\nIf this was true, and especially if this influence was substantial, we would expect to see some difference in the infection rates of patients in the groups.\n\nWe choose between these two competing claims by assessing if the data conflict so much with $H_0$ that the independence model cannot be deemed reasonable.\nIf this is the case, and the data support $H_A,$ then we will reject the notion of independence and conclude the vaccine was effective.\n\n### Simulating the study\n\nWe're going to implement **simulation** under the setting where we will pretend we know that the malaria vaccine being tested does *not* work.\nUltimately, we want to understand if the large difference we observed in the data is common in these simulations that represent independence.\nIf it is common, then maybe the difference we observed was purely due to chance.\nIf it is very uncommon, then the possibility that the vaccine was helpful seems more plausible.\n\n@tbl-malaria-vaccine-20-ex-summary shows that 11 patients developed infections and 9 did not.\nFor our simulation, we will suppose the infections were independent of the vaccine and we were able to *rewind* back to when the researchers randomized the patients in the study.\nIf we happened to randomize the patients differently, we may get a different result in this hypothetical world where the vaccine does not influence the infection.\nLet's complete another **randomization** using a simulation.\n\nIn this **simulation**, we take 20 notecards to represent the 20 patients, where we write down \"infection\" on 11 cards and \"no infection\" on 9 cards.\nIn this hypothetical world, we believe each patient that got an infection was going to get it regardless of which group they were in, so let's see what happens if we randomly assign the patients to the treatment and control groups again.\nWe thoroughly shuffle the notecards and deal 14 into a pile and 6 into a pile.\nFinally, we tabulate the results, which are shown in @tbl-malaria-vaccine-20-ex-summary-rand-1.\n\n\n::: {#tbl-malaria-vaccine-20-ex-summary-rand-1 .cell tbl-cap='Simulation results, where any difference in infection ratio is purely\ndue to chance.'}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-condensed\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> treatment </th>\n   <th style=\"text-align:right;\"> placebo </th>\n   <th style=\"text-align:right;\"> vaccine </th>\n   <th style=\"text-align:right;\"> Total </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> infection </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> no infection </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Total </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 14 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n::: {.guidedpractice data-latex=\"\"}\nHow does this compare to the observed 64.3% difference in the actual data?[^15-foundations-applications-2]\n:::\n\n[^15-foundations-applications-2]: $4 / 6 - 7 / 14 = 0.167$ or about 16.7% in favor of the vaccine.\n    This difference due to chance is much smaller than the difference observed in the actual groups.\n\n### Independence between treatment and outcome\n\nWe computed one possible difference under the independence model in the previous Guided Practice, which represents one difference due to chance, assuming there is no vaccine effect.\nWhile in this first simulation, we physically dealt out notecards to represent the patients, it is more efficient to perform the simulation using a computer.\n\nRepeating the simulation on a computer, we get another difference due to chance: $$ \\frac{2}{6{}} - \\frac{9}{14} = -0.310 $$\n\nAnd another: $$ \\frac{3}{6{}} - \\frac{8}{14} = -0.071$$\n\nAnd so on until we repeat the simulation enough times to create a *distribution of differences that could have occurred if the null hypothesis was true*.\n\n@fig-malaria-rand-dot-plot shows a stacked plot of the differences found from 100 simulations, where each dot represents a simulated difference between the infection rates (control rate minus treatment rate).\n\n\n::: {.cell}\n::: {.cell-output-display}\n![A stacked dot plot of differences from 100 simulations produced under\nthe independence mode, $H_0,$ where in these simulations infections are\nunaffected by the vaccine. Two of the 100 simulations had a difference\nof at least 64.3%, the difference observed in the study.\n](15-foundations-applications_files/figure-html/fig-malaria-rand-dot-plot-1.png){#fig-malaria-rand-dot-plot fig-alt='A stacked dot plot of differences from 100 simulations produced under\nthe independence mode, $H_0,$ where in these simulations infections are\nunaffected by the vaccine. Two of the 100 simulations had a difference\nof at least 64.3%, the difference observed in the study.' width=90%}\n:::\n:::\n\n\nNote that the distribution of these simulated differences is centered around 0.\nWe simulated these differences assuming that the independence model was true, and under this condition, we expect the difference to be near zero with some random fluctuation, where *near* is pretty generous in this case since the sample sizes are so small in this study.\n\n::: {.workedexample data-latex=\"\"}\nHow often would you observe a difference of at least 64.3% (0.643) according to @fig-malaria-rand-dot-plot?\nOften, sometimes, rarely, or never?\n\n------------------------------------------------------------------------\n\nIt appears that a difference of at least 64.3% due to chance alone would only happen about 2% of the time according to @fig-malaria-rand-dot-plot.\nSuch a low probability indicates a rare event.\n:::\n\nThe difference of 64.3% being a rare event suggests two possible interpretations of the results of the study:\n\n-   $H_0$: **Independence model.** The vaccine has no effect on infection rate, and we just happened to observe a difference that would only occur on a rare occasion.\n\n-   $H_A$: **Alternative model.** The vaccine has an effect on infection rate, and the difference we observed was actually due to the vaccine being effective at combating malaria, which explains the large difference of 64.3%.\n\nBased on the simulations, we have two options.\n(1) We conclude that the study results do not provide strong evidence against the independence model.\nThat is, we do not have sufficiently strong evidence to conclude the vaccine had an effect in this clinical setting.\n(2) We conclude the evidence is sufficiently strong to reject $H_0$ and assert that the vaccine was useful.\nWhen we conduct formal studies, usually we reject the notion that we just happened to observe a rare event.\nSo in the vaccine case, we reject the independence model in favor of the alternative.\nThat is, we are concluding the data provide strong evidence that the vaccine provides some protection against malaria in this clinical setting.\n\nOne field of statistics, statistical inference, is built on evaluating whether such differences are due to chance.\nIn statistical inference, data scientists evaluate which model is most reasonable given the data.\nErrors do occur, just like rare events, and we might choose the wrong model.\nWhile we do not always choose correctly, statistical inference gives us tools to control and evaluate how often decision errors occur.\n\n\\clearpage\n\n## Interactive R tutorials {#sec-foundations-tutorials}\n\nNavigate the concepts you've learned in this chapter in R using the following self-paced tutorials.\nAll you need is your browser to get started!\n\n::: {.alltutorials data-latex=\"\"}\n[Tutorial 4: Foundations of inference](https://openintrostat.github.io/ims-tutorials/04-foundations/)\n\n::: {.content-hidden unless-format=\"pdf\"}\n<https://openintrostat.github.io/ims-tutorials/04-foundations>\n:::\n:::\n\n::: {.singletutorial data-latex=\"\"}\n[Tutorial 4 - Lesson 1: Sampling variability](https://openintro.shinyapps.io/ims-04-foundations-01/)\n\n::: {.content-hidden unless-format=\"pdf\"}\n<https://openintro.shinyapps.io/ims-04-foundations-01>\n:::\n:::\n\n::: {.singletutorial data-latex=\"\"}\n[Tutorial 4 - Lesson 2: Randomization test](https://openintro.shinyapps.io/ims-04-foundations-02/)\n\n::: {.content-hidden unless-format=\"pdf\"}\n<https://openintro.shinyapps.io/ims-04-foundations-02>\n:::\n:::\n\n::: {.singletutorial data-latex=\"\"}\n[Tutorial 4 - Lesson 3: Errors in hypothesis testing](https://openintro.shinyapps.io/ims-04-foundations-03/)\n\n::: {.content-hidden unless-format=\"pdf\"}\n<https://openintro.shinyapps.io/ims-04-foundations-03>\n:::\n:::\n\n::: {.singletutorial data-latex=\"\"}\n[Tutorial 4 - Lesson 4: Parameters and confidence intervals](https://openintro.shinyapps.io/ims-04-foundations-04/)\n\n::: {.content-hidden unless-format=\"pdf\"}\n<https://openintro.shinyapps.io/ims-04-foundations-04>\n:::\n:::\n\n::: {.content-hidden unless-format=\"pdf\"}\nYou can also access the full list of tutorials supporting this book at <https://openintrostat.github.io/ims-tutorials>.\n:::\n\n::: {.content-visible when-format=\"html\"}\nYou can also access the full list of tutorials supporting this book [here](https://openintrostat.github.io/ims-tutorials).\n:::\n\n## R labs {#sec-foundations-labs}\n\nFurther apply the concepts you've learned in this part in R with computational labs that walk you through a data analysis case study.\n\n::: {.singlelab data-latex=\"\"}\n[Sampling distributions - Does science benefit you?](https://www.openintro.org/go?id=ims-r-lab-foundations-1)\\\n\n::: {.content-hidden unless-format=\"pdf\"}\n<https://www.openintro.org/go?id=ims-r-lab-foundations-1>\n:::\n:::\n\n::: {.singlelab data-latex=\"\"}\n[Confidence intervals - Climate change](https://www.openintro.org/go?id=ims-r-lab-foundations-2)\n\n::: {.content-hidden unless-format=\"pdf\"}\n<https://www.openintro.org/go?id=ims-r-lab-foundations-2>\n:::\n:::\n\n::: {.content-hidden unless-format=\"pdf\"}\nYou can also access the full list of labs supporting this book at <https://www.openintro.org/go?id=ims-r-labs>.\n:::\n\n::: {.content-visible when-format=\"html\"}\nYou can also access the full list of labs supporting this book [here](https://www.openintro.org/go?id=ims-r-labs).\n:::\n",
    "supporting": [
      "15-foundations-applications_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n<link href=\"site_libs/bsTable-3.3.7/bootstrapTable.min.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/bsTable-3.3.7/bootstrapTable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}